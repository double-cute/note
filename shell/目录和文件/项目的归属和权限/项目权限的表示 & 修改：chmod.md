# 项目权限的表示 & 修改：chmod
> change file mode bits，就修改项目的权限占位符.
>
>> 再总结一下，Linux项目权限总共分为4组：
>>
>> 1. SUID、SGID、SBIT
>> 2. 属主的rwx
>> 3. 属组的rwx
>> 4. 其他的rwx

<br><br>

## 目录

<br>

- coreutils: /bin/chmod

<br>

1. [权限的表示方法：数字 VS 字符 ]()
2. [修改项目的权限：chmod]()

<br><br>

### 一、权限的表示方法：数字 VS 字符  [·](#目录)
> 最关键的是2个要素，一定要区分 **权限组** 和 **权限**.
>
>> 权限组是指4种权限组之一（**特殊权限、属主权限、属组权限还是其他权限**）.

<br>

**1.&nbsp; 数字表示法：**

> 权限组用数字的位置指示，权限用数字的值指示.

- 由于4组里，每组刚好都有3种权限（其中第1组（特殊权限）有SUID、SGID、SBIT三种权限）.
   - 因此，每组都可以用一个3位二进制数来表示.
   - 规定：
      1. 特殊权限组：高位到低位分别对应 SUID、SGID、SBIT
      2. 普通权限组（属主、属组、其他）：高位到低位分别对应 r、w、x
   - 那么对于一个权限rwsrwxrwT就可以表示为：
      1. 特殊权限：101 (s-t)
      2. 属主权限：111 (rwx)
      3. 属组权限：111 (rwx)
      4. 其它权限：110 (rw-)
- 但在标准环境中使用十进制数来表示，因此：
   1. SUID=4, SGID=2, SBIT=1
   2. r=4, w=2, x=1
      - 上面的例子就变成了：5776
         1. 特殊权限：101 (s-t) 5
         2. 属主权限：111 (rwx) 7
         3. 属组权限：111 (rwx) 7
         4. 其它权限：110 (rw-) 6
- **缺省规则：非常重要！！**
   1. 正常情况下是4组，即4个十进制数，但也可以省略几个（少于4）.
   2. 省略情况下，**按照最低位是其他的规则往上涨，高位省略的为0**，例如：
      1. 6：表示0006
      2. 73：表示0073
      3. 555：表示0555
      4. 2777：表示2777
         - 所以一定要注意了！！

<br>

**2.&nbsp; 字符表示法：**

> 权限组和权限都用字符来指示，一目了然.

- 很简单：
   1. 分组：
      1. u：user，属主.
      2. g：group，属组.
      3. o：others，其他.
      4. a：all，所有，同时包括u、g.
   2. 权限：
      1. s、s、t：特殊权限，分别对应SUID、SGID、SBIT.
      2. r、w、x：普通权限，分别对应读、写、执行.

<br><br>

### 二、修改项目的权限：chmod  [·](#目录)

<br>

- 命令格式：**chmod [-R] 新的权限 目标项目**
   1. 选项-R表示递归修改目录及其所有子目录中的内容.
   2. 新权限的表示法有两种，就是之前讲过的 **数字表示法和字符表示法**.

<br>

**1.&nbsp; 数字表示法：**

- 就不讲了，和之前讲过的完全一样，示例：

```Shell
chmod 2357 a.txt
chmod 755 a.txt  # 省略法，等价于0755
chmod 1 a.txt # 也是省略法，等价于0001
```

<br>

**2.&nbsp; 字符表示法：**

- 基于之前讲过的字符表示法，但不过需要加一些特殊符号以丰富更多新的灵活的用法.
   - 表示法用下面的表格来展示：

| 身份 | 操作 | 权限 |
| :---: | :---: | :---: |
| u<br>g<br>o<br>a | =(设置，没写的默认为-)<br>+(加入)<br>-(除去)<br>+和-对于没写的保持原样 | s<br>s<br>t<br>r<br>w<br>x |

<br>

- 可以相互组合，使用非常灵活，大致规则总结如下：
   1. 多个部分用,相连，各个字符之间不能有任何空格！
      - 正确：u=xs,g=rw
      - 错误：u = x s, g = r w
   2. 身份可以组合：go=rw  就相当于  g=wr,o=wr
   3. 不同操作可以组合：u+rx,go=rw
   4. 顺序无所谓：u=xwr,og=wr  就相当于  u=rwx,go=rw
   5. =对于没出现的默认为-：u=r  就相当于u=r--，其余为都去掉权限了！！
   6. +和-对于没出现的默认保持原样：a+x  对于没出现的rw保持原样！！
   7. 没有S、S、T，只有s、s、t，只有SUID、SGID、SBIT的效果，没有附加的x效果：
      - u=sxwr就相当于swr，而u=swr就相当于Swr了
   8. s只能出现在u和g中，t只能出现在o中！
