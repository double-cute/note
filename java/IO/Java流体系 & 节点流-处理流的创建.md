# Java流体系 & 节点流-处理流的创建

<br><br>

## 目录

1. [流体系的基本概念 & 流的生命周期](#一流体系的基本概念--流的生命周期)
2. [流的分类](#二流的分类)
3. [常见的存储节点 & 节点流的命名规则](#三常见的存储节点--节点流的命名规则)
4. [创建节点流和处理流](#四创建节点流和处理流)

<br><br>

### 一、流体系的基本概念 & 流的生命周期：[·](#目录)
> 术语定义：
>
>> 1. 节点：即存储节点，存储着静态数据.
>>    - 节点可以是：文件、数组、标注输入输出（键盘、屏幕）等，是指广义上的存储节点.
>> 2. 节点数据：即存储在节点上的**静态数据**（在节点中保持不动，**不具备传输的特性**）.
>> 3. 流：从 **源节点** 传输到 **目的节点** 的一段 **有序数据**.
>>    - 具有动态性（流动性），**正在传输当中**，是一种动态的数据.
>> 4. 流节点：节点上的静态数据转换成了动态的流，此时存储着流的节点称为流节点.
>>    - 是节点一种特殊的状态，处于动态，之前处于静态.
>> 5. 节点流：节点上的静态数据转换成了可以传输的动态的流，这个**仍在节点上蓄势待发的流**称为节点流.

<br>

- 流的典型的生命周期：
   1. 静态：（源）节点（节点数据）  --（转换）-->
   2. 动态：（源）流节点（节点流）  --（就绪）-->
   3. 流动：流   --（传输）-->
   4. 动态：（目的）流节点（节点流）  --（接受并转换）-->
   5. 静态：（目的）节点（节点数据）  --（静态的数据等待下一步处理）-->
   6. 处理...

<br><br>

### 二、流的分类：[·](#目录)
> 逻辑上有三种分类方法：
>
>> 1. 输入流 - 输出流：从**流向**角度考虑.
>> 2. 字节流 - 字符流：从流的**内容**角度考虑.
>> 3. 节点流 - 处理流：从流的**设计**和**功能**角度考虑.

<br>

**1.&nbsp; 输入流 - 输出流：**

- 输入流：只能**从流**中读取数据**到程序**中的流.
- 输出流：只能从**程序**写数据**到流**中的流.
   - 因此输入和输出只是一种**方向性**问题.
   - 如果两个程序通信，A向B传输，那么A中使用的输出流，B中使用输入流接受数据.

> 1. Java以**InputStream**（内容是字节）和**Reader**（内容是字符）作为输入流的基类.
> 2. 以**OutputStream**（内容是字节）和**Writer**（内容是字符）作为输出流的基类.

<br>

**2.&nbsp; 字节流 - 字符流：**

 > 两者承载数据的内容形式不同，但是**用法几乎完全相同**.

- 字节流：以**8bit的单字节**作为数据单元.
- 字符流：以**16bit的双字符**（Java使用Unicode编码字符）作为数据单位.

> InputStream和OutputStream是字节流**抽象**基类（abstract class）.
>
> - 而Reader和Writer是字符流的抽象基类.

<br>

**3.&nbsp; 节点流 - 处理流：**

- 节点流：
   1. 前面已经讲过了，就是节点上蓄势待发的动态的流.
   2. 它最大的特点就是**低级**：
      1. 和存储**设备**直接**相关**.
      2. 很多方法都是**对存储节点的驱动**.
      3. 因此**不同类型存储节点**上的节点流所包含的**方法不尽相同**.
         - 因此使用起来比较**繁琐**，需要开发者**记忆**不同存储节点之间的区别.
   3. 常见的节点流有：FileInputStream（节点是文件）、CharArrayReader（节点是字符数组）等.
- 处理流：
   1. 基本属性还是和节点流一样，也是节点上蓄势待发的动态的流.
   2. 和节点流最大的不同在于，它是**高级**流.
      - 处理流**对节点流进行包装**，然后用**统一的方式**（方法）进行流操作，从而隐藏底层各种存储节点之间差异.
      - 无需开发者关注和记忆各种节点流之间的差异.
         - 开发者顶多需要记忆一套处理流的方法就行了，不必记忆各种不同节点流的操作方法.
   3. 常见的处理流有：PrintStream（System.out就是）、BufferedReader（支持逐行读取等高级操作）、Scanner（标准输入流，可以使用正则表达式匹配内容）.

<br><br>

### 三、常见的存储节点 & 节点流的命名规则：[·](#目录)

<br>

**1.&nbsp; 常见的存储节点：**

> Java几乎将一切可以存放数据的东西都抽象成存储节点.

- 常见的如：文件（File对象，代表磁盘设备）、套接字（Socket对象，代表一个网络数据节点）等.
- 特殊的如：数组、StringBuffer等.
   - 虽然它们不是什么肉眼就能看到的存储设备，但是它们同样可以保存静态数据.
   - 其中数组在C语言中也被用做过流节点：sprintf格式化一个字符串
     1. 就是将该目标字符串当成一个输出流.
     2. 然后将格式字符串输出到该输出流中形成一个新字符串.

<br>

**2.&nbsp; 节点流的命名规则：**

- 很简单：前缀："存储节点的名称" + 后缀："(Input|Output)Stream或(Reader|Writer)"
- 例如：FileInputStream（文件输入流）、CharArrayReader（数组输入流）等等.

<br><br>

### 四、创建节点流和处理流：[·](#目录)
> - 节点流的创建就是 **用节点流包装节点对象**.
> - 处理流的创建就是 **用处理流包装节点流**.

<br>

**1.&nbsp; 创建节点流：** 用节点流构造器包装节点对象

```Java
Xxx节点流(节点对象 | 节点名称（字符串）);

// 示例
FileInputStream fis = new FileInputStream(new File("a.txt")); // 节点对象
FileInputStream fis = new FileInputStream("a.txt");  // 节点名称
```

<br>

**2.&nbsp; 创建处理流：** 用处理流构造器包装节点流对象

```Java
Xxx处理流(节点流对象);

// 示例
PrintStream ps = new PrintStream(new FileOutputStream("test.txt"));
BufferedReader br = new BufferedReader(new FileReader("a.txt"));
```
