# SQL和NoSQL的基本概念

<br><br>

## 目录

1. [NoSQL VS SQL]()
2. [内存数据库 VS 磁盘数据库：NoSQL一般采用内存数据库]()
3. [为什么需要NoSQL内存数据库]()
4. [NoSQL和SQL配合使用]()

<br><br>

### 一、NoSQL VS SQL：[·](#目录)
> 是指 **NoSQL数据库** 和 **SQL数据库**，讨论的对象是数据库，这只是它俩的缩写.

<br>

1. SQL数据库从定义的角度来讲就是 **基于表（行列，结构化）存储数据**，因此，其数据特征是：
   1. 规整：行列表的形式.
   2. 关系必须用外键来表示.
      - 优缺点：
         1. 优点：数据规整，理论严谨，安全可靠.
         2. 缺点：存入数据库的数据必须进行规整地处理，将复杂的非结构化的数据进行结构化预处理.<br>（**特别是用户产生的数据都不能不做任何处理就插入数据库，必须将其预处理成行列的形式插入**）
            - 因此大部分精力都集中在数据表的设计和规划上.
            - 一旦数据表设计完并投入使用后，一有什么新的想法将很难扩展.
            - 烦就烦在**太严密，不够灵活**！
2. NoSQL数据库：No就体现了反SQL的规则，即非结构化的数据库.
   1. 数据并不是按行列表的形式存储，而是以各种各样灵活的数据结构存储.
   2. 最明显的优点就是：
      1. 数据结构灵活，**方便后期拓展**.
      2. 提供了各种各样的数据结构以适应输入数据的各种非结构化形式.
         - 免去了将原始数据结构化处理的过程.
      3. 数据结构高级而复杂，因此操作数据更加简易（就跟面向对象一样）直观. （**当然效率更高**）
         - 操作数据一般只需要几条命令，完全不需要复杂的SQL语句那样.

<br><br>

### 二、内存数据库 VS 磁盘数据库：NoSQL一般采用内存数据库  [·](#目录)

<br>

1. SQL数据库都是磁盘数据库：插入、查询等操作直接进入磁盘进行.
   - 因为行列表的存储形式非常简单无脑，典型的顺序结构，非常紧凑，没必要在内存中缓存.
2. NoSQL数据库基本都是内存数据库：
   - 由于采用灵活数据结构（立体式数据结构，非线性），并且支持复杂操作，更适合在内存中管理.
   - 因此内存数据库包括两部分：
      1. 内存缓存：常用的数据在内存中以立体的高级数据结构组织起来.
      2. 磁盘序列化：那些暂时不用的数据，需要通过序列化的方式从内存存入磁盘永久保存.
         - 缺点可能就是序列化的结果并不是那么紧凑，数据冗余可能也比较大.
         - 磁盘存储方面的理论没有SQL那么成熟.

<br><br>

### 三、为什么需要NoSQL内存数据库：[·](#目录)

<br>

1. 内存比磁盘快：为了适应快速响应，高并发的业务需求. （消息队列、新鲜事等）
   - 实现消息队列、新鲜事等功能采用传统数据库的话，需要短时间内大规模IO磁盘，根本应付不过来.
2. 非结构化的立体式数据结构的操作 **远比** 结构化的行列表操作 **简易**. （简单命令替换掉原来复杂的SQL语句）
   - 大大降低开发量.

<br><br>

### 四、NoSQL和SQL配合使用：[·](#目录)
> 这两者并不是敌对关系，而是互补关系，一般都是相互配合使用.

<br>

- 小结一下SQL和NoSQL的特色：
   1. SQL：安全严谨，存储紧凑. （操作复杂，比较迟钝）
   2. NoSQL：操作灵活简易，响应快速灵敏. （长期管理数据不够严谨，存储形式不够严密）

<br>

1. 前端的内存服务器上部署NoSQL.
   - 以应对高性能、快速响应、高并发的业务. （消息队列、新鲜事、评论等）
2. 后端的磁盘服务器上部署SQL.
   - 专门负责存储处理完的、非短时间内经常变化的数据.
3. 如果前端内存服务器的资源受限，也可将前端存不下的数据暂时存放在后端SQL磁盘服务器上.
