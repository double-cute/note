# 命令往返时延 & 管道

<br><br>

## 目录

1. [命令往返时延]()
2. [管道]()

<br><br>

### 一、命令往返时延：[·](#目录)

<br>

1. Redis使用TCP协议.
2. 命令往返时延就是指：**客户端向服务器传输命令** 以及 **服务器向客户端传输结果** 的 **总耗时**.
3. 一条简单Redis命令（如lPush等）的处理时长在数量级上相当于：本地会换地址（Loop Back Address：127.0.0.1）的往返时延.
   - 因此，如果命令较多，那么每条命令的往返时延的累加相当影响整体性能.

<br><br>

### 二、管道：[·](#目录)

<br>

- Redis在底层的TCP **通信协议的层次上** 实现了对 **管道（Pipeline）** 的支持.
   1. 允许前后不依赖的若干条命令通过管道一次性传送给服务器执行.
   2. 结果同样通过管道一次性传送回来（保存在list中）.
- 管道可以大大减少往返时延的损失.

<br>

- 由于管道只是在通信协议层面上实现了，因此redis-cli命令并不直接支持管道.
   - 但是在所有的编程语言接口API中实现了.
