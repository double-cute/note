# 基本操作
> type返回的类型就是string.
>
>> - 是Redis最基本的数据类型，其它4种类型只不过是组织string的形式不同而已.
>>    1. 是广义的字符串：可以存储任何序列化的（顺序的）数据，包括数字、普通字符串、二进制数据（图片）等.
>>    2. 1个string类型的数据最多容纳512MB.


<br><br>

## 目录

1. [赋值 & 取值](#一赋值--取值)
2. [操作数字键值](#二操作数字键值)
3. [字符串末尾追加 & 获取长度](#三字符串末尾追加--获取长度)

<br><br>

### 一、赋值 & 取值：[·](#目录)
> 在命令行赋值只能是纯ASCII字符串形式，没有数字类型.
>
>> 例如：**set bar 123后，get bar就返回"123"，是个纯string字符串类型**.
>>
>> - **如果不存在则返回(nil).**

<br>

**1.&nbsp; 单值：**

```Shell
# 1. 赋值
set 键名 键值
# 2. 取值
get 键名
```

<br>

**2.&nbsp; 多值：**

- 前缀m是multiple的缩写.

```Shell
# 1. 赋值
mset 键名1 键值1[ 键名2 键值2[ 键名3 键值3...]]
# 2. 取值
mget 键名1[ 键名2[ 键名3...]]
```

- 示例：

```Shell
mset bar 1 foo 2 foobar 3
mget bar foo foobar
```

<br><br>

### 二、操作数字键值：[·](#目录)
> 前提是，键值中保存的字符串必须都是数字（都是数字的ASCII码），否则会直接报错（类型错误）.

<br>

- 都是增减操作：
   1. 如果键本身就存在，那就正常增减.
   2. 如果键 **之前不存在，那就先自动将键值设为0后再进行增减操作**.
   3. 返回的是增减完之后的新值.
   4. **可以减到负值，增量也可以是负值.**

<br>

**1.&nbsp; 自增/减：**

```Shell
# 1. 自增1
incr 键名
# 2. 自减1
decr 键名
```

<br>

**2.&nbsp; 增/减指定增量：**

```Shell
# 1. 增
incrby 键名 增量
# 2. 减
decrby 键名 增量
# 3. 双精度浮点数的增量改变（只有incr没有decr，decr可以给incr传负的增量）
incrbyfloat 键名 增量
```

- 浮点数有两种表示形式：
   1. 正常行驶：1.5
   2. 科学计数法：5.3E-12
      - 特殊的：+inf、-inf是两个常量，分别表示正无穷/负无穷.
- 例如：

```Shell
mset bar 1.3 foo 3.5e4s
```

- Redis中整数和浮点数操作不兼容.
   - 例如：操作浮点数的可以操作整数，但是操作整数的不能操作浮点数

```Shell
set bar -3.2e-1
incr bar  # 错误，incr/decr/incrby/decrby只能操作整数
incrbyfloat bar 3.1 # 正确
incrbyfloat bar -5 # 正确
```

<br><br>

### 三、字符串末尾追加 & 获取长度：[·](#目录)

<br>

**1.&nbsp; 在键值末尾追加额外字符串：**

- 返回追加后新值里的字符总数.

```Shell
append 键名 值
```

- 示例：

```Shell
set bar 123
append bar " abc"  # 得到"123 abc"
```

<br>

**2.&nbsp; 返回一个string键值的长度：**

```Shell
strlen 键名
```
