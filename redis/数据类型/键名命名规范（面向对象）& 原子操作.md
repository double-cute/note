# 键名命名规范（面向对象）& 原子操作

<br><br>

## 目录

1. [以面向对象的方式命名键名]()
2. [Redis的原子封装]()

<br><br>

### 一、以面向对象的方式命名键名：
> 虽然Redis对键名的命名规范没有严格的要求.
>
>> 但为了使Redis和应用程序（编程语言）之间有更加良好的互动，应该以面向对象的规范去命名Redis中的键名.

<br>

- 应用程序中的对象 映射到 Redis的key-value：
   1. 对象属性名对应key，对象属性的值对应value.
   2. key的命名：遵循对象属性名，总体格式如下
      1. 对象属性（对象成员）：对象类型名(单数形式):对象ID:对象属性名
      2. 类属性（静态的类成员）：对象类型(复数形式):类属性名
      3. 其中对于任意一个部分，如果是由多个单词组成的就用'.'连缀它们.
         - Redis允许标识符中含有'.'，这样可以避免用空格作为分隔符.
            - 因为空格默认作为命令分隔符，除非使用""引起来才行，""比'.'麻烦得多.
      4. 尽量都用小写.

<br>

- 示例：

```Java
public class Person {
    public static int count;

    public List<String> friends;
    public int friendCount;
}
```

- 对应的3种属性命名为：
   1. persons:count
   2. person:1:friends
   3. person:13:friend.count
- 如果类名为FireMan，那么键名则应该命名为：fire.man:15:...

<br><br>

### 二、Redis的原子封装：
> 原子操作：原子有最小的、不可拆分的意思，因此原子操作是指不可拆分、不可被其它操作打断的操作.
>
>> - 具体的讲就是：
>>    1. 要么全部执行完，要么全部不执行.
>>    2. 如果执行了一半要强行打断，那就只能回滚刚刚做的内容，恢复成操作之前的样子.
>>       - 必须要保证要么全执行，要么不执行的原则.

<br>

- Redis的所有命令都是原子操作.
- Redis还提供了事物的功能，可以让开发者实现自定义的原子操作（将多个命令组合执行，并且不可打断）.
