# 5大数据类型简介 & 基本的键操作命令
> 和SQL的丰富的数据类型比起来Redis只提供了5中数据类型：字符串、散列、列表、集合、有序集合.
>
>> Redis的各种类型都是基于字符串这种最最基本的类型.
>>
>>> - Redis的字符串是广义的字符串，可以存放一切无结构线性数据（数字、普通字符串、二进制数据（图片等））.
>>> - 其它任何复杂的数据结构都可以使用其余4种类型嵌套、堆积而成.
>>
>> - 因此Redis是一种典型的 **化繁为简** 的设计思想.
>
> <br>
>
> - 由于Redis的1个字典等于SQL的1个数据库，1对key-value等于SQL的1张表.
> - 而一对key-value又可以用key唯一标识（代表），因此操作key就相当于SQL中操作表.
>    - 因此key操作就相当于SQL中的表级操作（create table、drop table、modify table等）.
> - 是Redis数据库的最最基本的操作.
>
> <br>
>
>> Redis中的 **键必须是字符串类型的**，**键所对应的值可以是任意5种数据类型**.
>>
>> - 因为键就相当于SQL中的表名，用于标识一张表，因此这里对几个术语做一下规范，之后都这样简称了：
>>    1. 键（key）：就代表键名.
>>    2. 键值：key所对应的value.
>>    3. 更笼统的称呼：键（key）就代表键值，比如键的类型就表示key所对应的value的类型，即键值的类型.
>>       - 毕竟键本身的类型只能是字符串，就是一种名字标识而已.

<br>

- Redis命令格式说明：
   1. 用[ ]包裹的部分表示可选部分.
   2. 没有用[ ]包裹的是必选部分，如果没写就直接报错.
      - 例如：
         1. set 键名 键值：
            1. set bar # 错误
            2. set bar 321 # 正确
         2. bitpos 键名 位值 [起始索引 终止索引]
            1. bitpos bar 1  # 正确
            2. bitpos bar 1 0 10 # 正确
            3. bitpos bar 1 3 # 错误，除非是bitpos 键名 位值 [起始索引 [终止索引]]才行

<br><br>

## 目录

1. [取得符合规则的键名列表：keys](#一取得符合规则的键名列表keys--)
2. [判断一个键是否存在：exists](#二判断一个键是否存在exists--)
3. [删除键：del](#三删除键del--)
4. [获取键的类型：type](#四获取键的类型type--)
5. [命令前缀和数据类型的关系 & 命令字符的类型]()

<br><br>

### 一、取得符合规则的键名列表：keys  [·](#目录)
> **凡是以后出现模式串字样的都表示可以使用通配符，没出现该字样统统表示只能精确匹配.**

<br>

- 列出当前数据库实例中所有符合通配符条件的键名.

<br>

**1.&nbsp; 命令格式：**

```Shell
keys 键名模式串
```

<br>

**2.&nbsp; 通配符采用glob风格：**

| 通配符 | 含义 |
| --- | --- |
| ? | 1个任意字符 |
| \* | ≥0个任意字符 |
| [ ] | 1个字符，匹配范围，例如：<br>[apq]表示apq中任意一个字符<br>[a-c]表示abc中任意一个字符 |
| \\ | 转义符，例如\\?表示纯字符? |

<br>

**3.&nbsp; 示例：**

```Shell
keys ba*  # 以ba开头的键名
keys *  # 列出所有键名，会扫描所有键，量多时影响性能，不要在生产环境中使用
```

<br><br>

### 二、判断一个键是否存在：exists  [·](#目录)

<br>

```Shell
exists 键名
```

- 存在返回1，不存在返回0.

<br><br>

### 三、删除键：del  [·](#目录)
> Redis命令的参数列表都用空格隔开

<br>

```Shell
del 键名列表
```

- 支持一次删除多个键：del bar1 bar2
- 返回的是实际删除的键的个数.

<br>

- 由于实现原因，del不支持通配符，但是可以和外部Shell命令完成这一功能：

```Shell
# 1. xargs方式：
redis-cli keys "通配符" | xargs redis-cli del
# 2. ``方式：效果相同，但效率更高
redis-cli del `redis-cli keys "通配符"`
```

<br><br>

### 四、获取键的类型：type  [·](#目录)
> 其实就是key所对应的value的类型.

<br>

- 不支持多个键的检测.

```Shell
type 键名
```

- 返回string、list、set等5大数据类型中的1种.

<br><br>

### 五、命令前缀和数据类型的关系 & 命令字符的类型：[·](#目录)

<br>

**1.&nbsp; 和数据类型有关的命令的前缀：**

- 只要是和数据类型有关的命令，都可以通过命令名的前缀辨识出操作的键值的数据类型是什么.
   1. 字符串：无前缀，比如get、set等.
   2. 散列：前缀为h（即hash的缩写），比如hget、hset等.
   3. 列表：前缀为l（即list的缩写），比如lpush、lpop等.
   4. 集合：前缀为s（即set的缩写），比如sadd、srem等.
   5. 有序集合：前缀为z（并不是什么缩写，只是为了和set区分），比如zadd、zrem等.

<br>

**2.&nbsp; 命令字符的类型：**

- 命令字符就是指redis-cli中的命令名、选项以及参数.
   1. 命令、选项部分大小写.
   2. 选项都是裸的单词，没有'-'、'--'之类的选项引导符.
   3. 参数的类型只有字符串一种（和Shell一样），如果含有空格一定要用""括起来.
      - 否则空格会被当做命令分隔符.
