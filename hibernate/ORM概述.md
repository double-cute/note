# ORM概述
> Object/Relation Mapping，是一种对象/关系型数据库映射

<br><br>

## 目录
1. [持久化数据](#一持久化数据)
2. [ORM](#二ORM)
3. [映射方式和持久化对象](#三映射方式和持久化对象)
4. [主流的ORM框架](#四主流的ORM框架)


<br><br>

### 一、持久化数据：[·](#目录)
- 笼统的讲就是需要长期保存在硬盘中的数据，这是相对于内存中的临时数据而言的.
- 但在应用程序中，持久化数据，精确地讲就是那些保存在数据库中的数据。
- 数据持久化的概念：

> 就是指应用程序对数据库进行操作，包括将程序中的数据存入数据库、处理数据库中的数据等等.

<br><br>

### 二、ORM：[·](#目录)
1. 背景：为什么需要ORM框架？
  - 大多数应用程序设计语言都是面向对象的.
  - 但应用最广泛且主流的数据口却都是关系型数据库.
  - 但关系型数据库的操作方式和面向对象的操作方式完全不兼容.
    - 这导致无法使用面向对象的方式来操作数据库，这失去了面向对象编程的意义.
2. ORM完成的任务：
  - 基于以上背景ORM框架应运而生.
  - ORM就是一种面向对象编程语言到关系型数据库的映射，使得可以使用面向对象的方式来操作数据库.
  - ORM全称是：Object/Relation Mapping
    - Object代表面向对象编程，Relation代表关系数据库.
    - 因此完整的叫法应噶是Object-Oriented-Programming Mapping to Relation Database.

<br><br>

### 三、映射方式和持久化对象：[·](#目录)
- ORM的映射方式:
  - 就是用**一个Java对象**来代表数据表中的**一行数据**，而对象中的各种**数据域**来代表行中的各个**列**.
  - 对数据的各种CRUD（增删改等操作）直接调用对象的各种方法（getter、setter等方法）来完成.
  - ORM会将这种方法调用映射成数据库底层的SQL语句直接对数据库进行操作.

> 因此上面说的Java对象看上去**“仿佛”** 就数据库中的数据，其实不然，它的的确确就只是一个Java虚拟机内存中的普通对象罢了（在Hibernate中完全就是一个普通POJO），只不过你对它的操作会被ORM映射成SQL操作.

- 持久化对象：就是上面那个**“仿佛”** 是数据库中持久化数据的Java对象，既然操作它就相当于操作数据库中的持久化数据，因此就戏称它为“持久化对象”，但本质上不是，只是一种形象的称谓.

<br><br>

### 四、主流的ORM框架：[·](#目录)
- JPA规范：
  - Java Persistence API，即Java持久化API，它是一组规范，并非ORM框架产品.
  - 是Java EE委员会制定的规范，因此具有很强的通用性.
  - 面向JPA编程的最大优势就是可以自由在各个ORM框架之间切换，无需改动代码.


1. Hibernate：
  - JPA规范，是目前最流行的ORM框架.
  - 目前Hibernate加入了JBoss（作为JBoss持久层解决方案），JBoss是Java EE规范之一.
  - 有点：小巧玲珑，文档丰富，扩展性极强.
2. iBATIS：
  - Apache的项目.
  - 非JPA规范，并不支持纯粹的面向对象，因此逐渐被抛弃.
  - 但由于更加底层，因此也特别灵活，允许直接在程序中出现SQL语句.
3. TopLink：
  - Oracle产品，JPA规范.
  - 但早年单独作为Oracle ORM框架使用，市场接受率较低，比较小众.
